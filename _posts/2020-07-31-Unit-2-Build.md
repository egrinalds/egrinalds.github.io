---
layout: post
title: How affordable is a Tesla?
subtitle: Discover the best deal
---

![Image from Gyazo](https://i.gyazo.com/e1f42cd67c4436d6238730061bd20bc9.png)
### Introduction

You see more electric vehicles on the road everyday. They make you wonder, can I afford one? To answer this question, I analyzed the market of Teslas to discover which had the best value. I sampled three different models with varying options. In 2012, Tesla offered a four door sedan called the Model S. Next, a SUV named the Model X that seats 7 became available in 2016. Most recent in 2018, the compact Model 3 was released to the public.

<iframe width="900" height="800" frameborder="0" scrolling="no" src="//plotly.com/~egrinalds/32.embed"></iframe>

### Web Scraping
There weren’t any easily accessible datasets for my topic so I had to get creative. To create custom data, I used a Python’s [Beautiful Soup](https://www.youtube.com/watch?v=ng2o98k983k&t=2467s) web scraping tutorial. Parsing the data from [cars.com](https://www.cars.com/for-sale/searchresults.action/?mdId=21655&mkId=28263&page=1&perPage=100&searchSource=PAGINATION&sort=relevance&stkTypId=28881&zc=99019) was easy because of their user-friendly API.

![Webscrap](https://i.gyazo.com/3447dec29eba4fb65736300b25162776.png)


### Linear Regression
I knew this was a supervised learning regression model because the target (price) was numerical. To get started, I established a baseline by taking the mean of the data. If you saw any Model S driving down the street then this is what you could guess it's worth. 

![Linear Regression](https://i.gyazo.com/821c65603bf8e1a8ba85c3e6d3d183d4.png)

### Machine Learning

With a few key features, I was confident that some machine learning techniques could accurately predict the price. Each method reduced the mean absolute error (MAE) to better predict the price (target). 

![Image from Gyazo](https://i.gyazo.com/449912dd09bec6ce89731a3e08a012a8.png)

![Image from Gyazo](https://i.gyazo.com/169bbbeb9384f739f560a19addfd8ade.png)

![Image from Gyazo](https://i.gyazo.com/9622dd36d62be55bde05959e74d100be.png)

![Image from Gyazo](https://i.gyazo.com/b0c2c08576f4f265e38e664b894e357f.png)

![Image from Gyazo](https://i.gyazo.com/8e8e459324c22c120a3df695f33fdb5e.png)

### Permutation Importancess

I was curious which features influenced the price the most. It turns out that mileage was the most important factor in determining the value of the Tesla. 

![Image from Gyazo](https://i.gyazo.com/97ee446c81a6735d2be468763dbf9547.png)

### Partial Dependence Plot

This matrix shows exactly what mileage does to the price. 

![Image from Gyazo](https://i.gyazo.com/14024bd6d01afed6c0862bb44521fc61.png)

### Shapley Value

The left side of this visual show features that increase the price and the features on the right decrease the price. 

![Image from Gyazo](https://i.gyazo.com/ba0e85873a986ca1a0888aafbacaf79f.png)

### Conclusion

If I had a budget of $30,000 for my next car then I would be left to choose between an older Model S or newer Model 3. I would choose the Model 3 because it has ludacris mode and auto pilot capabilites. That way I could take a quick nap on my commute.

[Colab Notebook](https://colab.research.google.com/drive/1GBMrzD-7a66qA1hyg04GklvLMVqTLDiY?usp=sharing)
[Beautiful Soup Code](https://github.com/evan-grinalds/Unit-2-Build-Tesla/blob/master/webscrap.py)
[Data Set](https://github.com/evan-grinalds/Unit-2-Build-Tesla/blob/master/model_s_whole.csv)
[Heroku App]



